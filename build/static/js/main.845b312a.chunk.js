(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},37:function(e,t,a){e.exports=a(72)},61:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),i=a(30),r=a.n(i),c=a(4),s=a(5),o=a(7),d=a(6),m=a(8),u=(a(16),a(10)),p=a(17),v=a(27),E=a.n(v);function g(e,t){var a=0;if("number"==typeof e)a=e;else{var n="string"==typeof e?Date.parse(e):e.getTime();a=("string"==typeof t?Date.parse(t):t.getTime())-n}return("00"+Math.floor(a/1e3/60)).slice(-2)+":"+("00"+Math.floor(a/1e3)%60).slice(-2)+"."+("00"+a%1e3).slice(-2)}var f=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={timeElapsed:"00:00.00"},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;null!=e.props.profile.testBeganAt&&setInterval(function(){var t=g(e.props.profile.testBeganAt,null==e.props.profile.testEndedAt?new Date:e.props.profile.testEndedAt);e.setState({timeElapsed:t})},10)}},{key:"render",value:function(){return l.a.createElement("h1",{style:{textAlign:"center",marginTop:"-.5em"}},this.state.timeElapsed)}}]),t}(n.Component),b=function(e){function t(e){var a;Object(c.a)(this,t),a=Object(o.a)(this,Object(d.a)(t).call(this,e));var n=new E.a;e.profile.oscillations.map(function(e){var t=e.coagulationIndex/2;return e.coagulationIndex=[t,-t],e});var l=n.createView().source(e.profile.oscillations);return l.transform({type:"fold",fields:["coagulationIndex"],key:"time",value:"ci"}),a.state={dv:l},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e={},t={};if(this.props.profile.oscillations.length>0){this.props.profile.oscillations[this.props.profile.oscillations.length-1];var a=this.props.profile.oscillations[this.props.profile.oscillations.length>1?1:0];e={min:a.maxDate,max:a.maxDate+32e5,tickInterval:16e4,nice:!1},t={max:40,min:-40}}var n={ci:t,maxDate:e};return l.a.createElement(p.Chart,{padding:[30,50,20,50],height:200,width:2e3,data:this.state.dv,scale:n},l.a.createElement(p.Axis,{name:"ci",position:"left",label:{formatter:function(e){return"".concat(e," mm")},textStyle:{fill:"#000"}},grid:{lineStyle:{stroke:"#ccc"}}}),l.a.createElement(p.Axis,{name:"maxDate",position:"bottom",label:{formatter:function(e){return g(parseInt(e))},textStyle:{fill:"#000"}},grid:{lineStyle:{stroke:"#ccc",lineDash:[4,4]}}}),l.a.createElement(p.Tooltip,{crosshairs:{type:"y"}}),l.a.createElement(p.Geom,{type:"line",position:"maxDate*ci",size:2,color:["#007bff","#007bff"]}))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.profile.oscillations;return a.map(function(e){if("object"!=typeof e.coagulationIndex){var t=e.coagulationIndex/2;e.coagulationIndex=[t,-t]}return e}),console.log(a),{dv:t.dv.source(a)}}}]),t}(n.Component),h=a(14),A=a(12),O=a.n(A);function y(){var e=Object(h.a)(["\n  mutation($patientId: ID!, $isArchived: Boolean) {\n    updatePatient(\n        id: $patientId,\n        isArchived: $isArchived) {\n        id\n    }\n}"]);return y=function(){return e},e}function x(){var e=Object(h.a)(["\n  query patientProfiles($id: ID!) {\n    patient: Patient(id: $id) {\n        id,\n        profiles(filter: { isArchived: false }) {\n            id,\n            isArchived,\n\n            # timestamps\n            createdAt,\n            updatedAt,\n            bloodInjectedAt,\n            testBeganAt,\n            testEndedAt,\n\n            # options\n            requireLevelSurface,\n            requirePatient,\n            videoName,\n            status,\n\n            oscillations {\n                id\n            }\n\n            patient {\n                id,\n                name\n            }\n        }\n    }\n}"]);return x=function(){return e},e}function I(){var e=Object(h.a)(["\n  query patientQuery($id: ID!) {\n    patient: Patient(id: $id) {\n        id,\n        isArchived,\n        hospitalID,\n        name,\n        bloodType,\n        dateOfBirth,\n        ethnicity,\n        profiles {\n            id\n        },\n        createdAt,\n        updatedAt\n    }\n}"]);return I=function(){return e},e}function D(){var e=Object(h.a)(["\n  query {\n    allPatients(orderBy: createdAt_DESC, filter: { isArchived: false }) {\n        id,\n        hospitalID,\n        name,\n        bloodType,\n        dateOfBirth,\n        ethnicity,\n        profiles {\n            id\n        },\n        createdAt,\n        updatedAt\n    }\n}"]);return D=function(){return e},e}var w=O()(D()),j=O()(I()),k=O()(x()),$=O()(y()),P=function(e){function t(e){return Object(c.a)(this,t),Object(o.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deletePatient",value:function(e){window.confirm("Are you sure that you want to archive this patient?")&&this.props.updatePatientMutation({variables:{patientId:e,isArchived:!0}})}},{key:"render",value:function(){var e=this;return null==this.props.patientId?l.a.createElement("div",{class:"card patient-card"},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{class:"card-title"},"Unnamed Patient"))):l.a.createElement(u.Query,{query:j,variables:{id:e.props.patientId},pollInterval:1e3},function(t){var a=t.loading,n=(t.error,t.data);if(a)return l.a.createElement("div",{class:"spinner-overlay"},l.a.createElement("div",{class:"spinner center"},l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"})));var i=n.patient,r=i.id,c=i.isArchived,s=i.hospitalID,o=i.name,d=i.bloodType,m=i.dateOfBirth,u=i.ethnicity,p=(i.profiles,i.createdAt,i.updatedAt),v=1==c?l.a.createElement("span",{className:"badge badge-pill float-right badge-info"},"Archived"):null;return l.a.createElement("div",{class:"card patient-card"},l.a.createElement("div",{class:"card-body"},l.a.createElement("h5",{class:"card-title"},o,v),l.a.createElement("h6",{class:"card-subtitle mb-2 text-muted"},s),l.a.createElement("table",{class:"table"},l.a.createElement("tbody",null,l.a.createElement("tr",{scope:"row"},l.a.createElement("th",null,"Date of Birth:")," ",l.a.createElement("td",null," ",m||"..")),l.a.createElement("tr",{scope:"row"},l.a.createElement("th",null,"Blood Type:")," ",l.a.createElement("td",null," ",d||"..")),l.a.createElement("tr",{scope:"row"},l.a.createElement("th",null,"Ethnicity:")," ",l.a.createElement("td",null," ",u||"..")),l.a.createElement("tr",{scope:"row"},l.a.createElement("th",null,"Updated At:")," ",l.a.createElement("td",null," ",p||"..")))),l.a.createElement("hr",null),l.a.createElement("div",{class:"text-right"},l.a.createElement("a",{href:"#",class:"card-link text-danger",onClick:function(){e.deletePatient(r)}},"Delete"))))})}}]),t}(n.Component),N=Object(u.compose)(Object(u.graphql)($,{name:"updatePatientMutation"}))(P);function S(){var e=Object(h.a)(["\n  mutation ($coagulationIndex: Float!, $maxAngle: Float!, $maxDate: Float!, $minAngle: Float!, $minDate: Float!, $profileId: ID!){\n    createOscillation (coagulationIndex: $coagulationIndex, maxAngle: $maxAngle, maxDate: $maxDate, minAngle: $minAngle, minDate: $minDate, profileId: $profileId) {\n      id\n      profile {\n        id\n      }\n    }\n  }\n"]);return S=function(){return e},e}function B(){var e=Object(h.a)(["\n  mutation($profileId: ID!,\n    $isArchived: Boolean,\n    $testBeganAt: DateTime,\n    $testEndedAt: DateTime,\n    $bloodInjectedAt: DateTime,\n    $status: Int,\n    $baselineSweepWidth: Float,\n    $baselineOscillationId: ID,\n    $rOscillationId: ID,\n    $kOscillationId: ID,\n    $alphaAngle: Float,\n    $maOscillationId: ID,\n    $ly30Ratio: Float,\n    $ly30OscillationId: ID ) {\n\n    updateProfile(  id: $profileId, \n                    isArchived: $isArchived,\n                    testBeganAt: $testBeganAt,\n                    testEndedAt: $testEndedAt,\n                    bloodInjectedAt: $bloodInjectedAt,\n                    status: $status,\n                    baselineSweepWidth: $baselineSweepWidth,\n                    baselineOscillationId: $baselineOscillationId,\n                    rOscillationId: $rOscillationId,\n                    kOscillationId: $kOscillationId,\n                    alphaAngle: $alphaAngle,\n                    maOscillationId: $maOscillationId,\n                    ly30Ratio: $ly30Ratio,\n                    ly30OscillationId: $ly30OscillationId  ) {\n        id\n    }\n  }"]);return B=function(){return e},e}function C(){var e=Object(h.a)(["\n  query profileQuery($id: ID!) {\n    profile: Profile(id: $id) {\n        id,\n        isArchived,\n\n        # timestamps\n        createdAt,\n        updatedAt,\n        bloodInjectedAt,\n        cartridgeInsertedAt,\n        testBeganAt,\n        testEndedAt,\n\n        # options\n        requireLevelSurface,\n        requirePatient,\n        videoName,\n        status,\n\n        #parameters\n        rOscillation {\n            id, minAngle, minDate, maxAngle, maxDate, coagulationIndex, createdAt\n        },\n        kOscillation{\n            id, minAngle, minDate, maxAngle, maxDate, coagulationIndex, createdAt\n        },\n        alphaAngle,\n        maOscillation{\n            id, minAngle, minDate, maxAngle, maxDate, coagulationIndex, createdAt\n        },\n        ly30Ratio,\n        ly30Oscillation{\n            id, minAngle, minDate, maxAngle, maxDate, coagulationIndex, createdAt\n        },\n        baselineSweepWidth,\n        baselineOscillation{\n            id, minAngle, minDate, maxAngle, maxDate, coagulationIndex, createdAt\n        },\n\n        oscillations {\n            id, minAngle, minDate, maxAngle, maxDate, coagulationIndex\n        }\n\n        patient {\n            id,\n            name\n        }\n    }\n  }"]);return C=function(){return e},e}function q(){var e=Object(h.a)(["\n  query {\n    allProfiles(orderBy: createdAt_DESC, filter: { isArchived: false }) {\n        id,\n\n        # timestamps\n        createdAt,\n        updatedAt,\n        bloodInjectedAt,\n        testBeganAt,\n        testEndedAt,\n\n        videoName,\n        status,\n\n        #parameters\n        rOscillation {\n            id,\n            maxDate\n        },\n        kOscillation{\n            id,\n            maxDate\n        },\n        alphaAngle,\n        maOscillation{\n            id,\n            maxDate, coagulationIndex\n        },\n        ly30Ratio,\n        ly30Oscillation{\n            id,\n            maxDate\n        },\n        baselineSweepWidth,\n        baselineOscillation{\n            id,\n            maxDate\n        },\n        oscillations {\n            id\n        }\n        patient {\n            id,\n            name\n        }\n    }\n  }"]);return q=function(){return e},e}function F(){var e=Object(h.a)(["\n  mutation ($requireLevelSurface: Boolean!, $requirePatient: Boolean!, $videoName: String){\n    createProfile(\n        requireLevelSurface: $requireLevelSurface, \n        requirePatient: $requirePatient,\n        videoName: $videoName,\n        status: 0) {\n      id\n    }\n  }\n"]);return F=function(){return e},e}O()(F());var T=O()(q()),L=O()(C()),J=O()(B()),W=(O()(S()),function(e){function t(e){return Object(c.a)(this,t),Object(o.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"deleteProfile",value:function(e){window.confirm("Are you sure that you want to archive this profile?")&&this.props.updateProfileMutation({variables:{profileId:e,isArchived:!0}})}},{key:"render",value:function(){var e=this,t=this;return l.a.createElement(u.Query,{query:L,variables:{id:t.props.match.params.id},pollInterval:1e3},function(a){var n=a.loading,i=a.error,r=a.data;if(n)return l.a.createElement("div",{class:"spinner-overlay"},l.a.createElement("div",{class:"spinner center"},l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"})));if(i)return l.a.createElement("div",null,i.message);var c=r.profile,s=r.patient,o=["New","In progress","Completed","Errored"][c.status],d=["badge-secondary","badge-info","badge-success","badge-danger"][c.status],m=null==s?"Unnamed Patient":s.name,u=null==c.testBeganAt?"...":new Date(Date.parse(c.testBeganAt)).toLocaleString(),p=null==c.testEndedAt?"...":new Date(Date.parse(c.testEndedAt)).toLocaleString(),v=null==c.createdAt?"...":new Date(Date.parse(c.createdAt)).toLocaleString(),E=null==c.cartridgeInsertedAt?"...":new Date(Date.parse(c.cartridgeInsertedAt)).toLocaleString(),h=null==c.bloodInjectedAt?"...":new Date(Date.parse(c.bloodInjectedAt)).toLocaleString(),A=null==c.videoName?"Back-Facing Camera":c.videoName,O=null==c.rOscillation?"...":g(c.rOscillation.maxDate),y=(null==c.rOscillation||g(c.rOscillation.maxDate),null==c.kOscillation?"...":g(c.kOscillation.maxDate-c.rOscillation.maxDate)),x=null==c.kOscillation?"...":g(c.kOscillation.maxDate),I=null==c.alphaAngle?"...":c.alphaAngle.toFixed(3)+"\xba",D=null==c.maOscillation?"...":c.maOscillation.coagulationIndex.toFixed(3)+" mm",w=null==c.maOscillation?"...":g(c.maOscillation.maxDate),j=null==c.ly30Ratio?"...":(100*c.ly30Ratio).toFixed(3)+"%",k=null==c.ly30Oscillation?"...":g(c.ly30Oscillation.maxDate),$=1==c.isArchived?l.a.createElement("span",{className:"badge badge-pill float-right badge-info"},"Archived"):null;return l.a.createElement("div",{class:"profile-page"},l.a.createElement("div",{class:"col-md-7"},l.a.createElement("a",{class:"btn btn-link",href:"/profiles"+(window.location.pathname.includes("api")?"/api":"")},"\u2190 All Profiles"),$,l.a.createElement("div",{className:"card profile-card"},l.a.createElement("div",{className:"card-header text-center"},l.a.createElement("h5",{className:"card-title"},m),l.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},u)),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{id:"chart"},l.a.createElement("div",{style:{height:250}},l.a.createElement(b,{profile:c}))),l.a.createElement("div",null,l.a.createElement(f,{profile:c}),l.a.createElement("h4",{style:{textAlign:"center",margin:"-.6em 0 0"}},l.a.createElement("span",{className:"badge "+d},o)))),l.a.createElement("div",{class:"card-footer"},e.paramJsx("T(r)",O),e.paramJsx("T(k)",y,x),e.paramJsx("alpha",I),e.paramJsx("MA",D,w),e.paramJsx("LY30",j,k),l.a.createElement("strong",null,"Events"),l.a.createElement("hr",null),e.detailJsx("Initialized",v),e.detailJsx("Inserted cartridge",E),e.detailJsx("Injected blood",h),e.detailJsx("Test Began",u),e.detailJsx("Test Ended",p),l.a.createElement("strong",null,"Information"),e.detailJsx("Source",A),l.a.createElement("div",{class:"text-right"},l.a.createElement("a",{href:"#",class:"card-link text-danger",onClick:function(){t.deleteProfile(c.id)}},"Archive"))))),l.a.createElement("div",{class:"col-md-5"},l.a.createElement(N,{patientId:null!=s?s.id:null})))})}},{key:"paramJsx",value:function(e,t,a){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"col-3"},l.a.createElement("h5",null,e)),l.a.createElement("div",{class:"col-5 text-right"},l.a.createElement("span",{class:"text-muted"},"Value"),l.a.createElement("br",null),null!=a?l.a.createElement("span",{class:"text-muted"},"Timestamp"):null),l.a.createElement("div",{class:"col-4",style:{fontWeight:700}},t,l.a.createElement("br",null),a),l.a.createElement("div",{class:"col-12"},l.a.createElement("hr",null)))}},{key:"detailJsx",value:function(e,t){return l.a.createElement("div",{className:"row"},l.a.createElement("div",{class:"col-4 text-right"},l.a.createElement("span",{class:"text-muted"},e),l.a.createElement("br",null)),l.a.createElement("div",{class:"col-8"},t),l.a.createElement("div",{class:"col-12"},l.a.createElement("hr",null)))}}]),t}(n.Component)),R=Object(u.compose)(Object(u.graphql)(J,{name:"updateProfileMutation"}))(W),M=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{class:"list-group list-group-flush"},l.a.createElement("div",{class:"list-group-item sticky-top list-group-item-light"},l.a.createElement("div",{class:"row "},l.a.createElement("div",{class:"col-sm-2 font-weight-bold"},"Patient Name"),l.a.createElement("div",{class:"col-sm-2"},"Began At"),l.a.createElement("div",{class:"col-sm-2"},"Oscillations"),l.a.createElement("div",{class:"col-sm-4 source-col"},"Source"),l.a.createElement("div",{class:"col-sm-2"},l.a.createElement("span",{className:"badge badge-pill badge-light"},"Test Status")))),l.a.createElement(u.Query,{query:k,variables:{id:this.props.patientId},pollInterval:5e3},function(e){var t=e.loading,a=e.error,n=e.data;return t?l.a.createElement("div",null,"Loading..."):a?l.a.createElement("div",null,"`Error! $",a.message,"`"):n.patient.profiles.map(function(e){var t=e.patient,a=e.status<2?"In Progress":"Completed",n=e.status<2?"badge-info":"badge-success",i=null==t?"Unnamed Patient":t.name,r=null==e.testBeganAt?"Waiting...":new Date(Date.parse(e.testBeganAt)).toLocaleString(),c=null==e.videoName?"Back-Facing Camera":e.videoName;null==e.rOscillation||g(e.rOscillation.maxDate),null==e.kOscillation||g(e.kOscillation.maxDate-e.rOscillation.maxDate),null==e.alphaAngle||e.alphaAngle.toFixed(3),null==e.maOscillation||e.maOscillation.coagulationIndex.toFixed(3),null==e.ly30Ratio||(100*e.ly30Ratio).toFixed(3);return l.a.createElement("a",{href:"/profile/"+e.id+(window.location.pathname.includes("api")?"/api":""),class:"list-group-item list-group-item-action"},l.a.createElement("div",{class:"row",key:e.id},l.a.createElement("div",{class:"col-sm-2"},l.a.createElement("strong",null,i)),l.a.createElement("div",{class:"col-sm-2"},r),l.a.createElement("div",{class:"col-sm-2"},e.oscillations.length," Oscillations"),l.a.createElement("div",{class:"col-sm-4 source-col"},c),l.a.createElement("div",{class:"col-sm-2"},l.a.createElement("span",{className:"badge badge-pill "+n},a))))})}))}}]),t}(n.Component),U=function(e){function t(e){return Object(c.a)(this,t),Object(o.a)(this,Object(d.a)(t).call(this,e))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{class:"patient-page"},l.a.createElement("div",{class:"col-md-5"},l.a.createElement("a",{class:"btn btn-link",href:"/patients"+(window.location.pathname.includes("api")?"/api":"")},"\u2190 All Patients"),l.a.createElement(N,{patientId:this.props.match.params.id})),l.a.createElement("div",{class:"col-md-7"},l.a.createElement(M,{patientId:this.props.match.params.id})))}}]),t}(n.Component),Q=a(81),z=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("nav",{class:"navbar navbar-expand-lg navbar-light bg-light"},l.a.createElement("div",{class:"collapse navbar-collapse",id:"navbarNav"},l.a.createElement("ul",{class:"navbar-nav"},l.a.createElement(Q.a,{to:"/patients",className:"nav-item nav-link",activeClassName:"active"},"Patients"),l.a.createElement(Q.a,{to:"/profiles",className:"nav-item nav-link",activeClassName:"active"},"Profiles"))),l.a.createElement("a",{class:"navbar-brand",href:"#"},l.a.createElement("img",{src:"/ifirst.png",width:"30",height:"30"})),l.a.createElement("button",{class:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},l.a.createElement("span",{class:"navbar-toggler-icon"})))}}]),t}(n.Component),V=function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(o.a)(this,Object(d.a)(t).call(this,e))).state={profile:{testBeganAt:"N/A",oscillations:[]},patient:{name:"Unnamed Patient"}},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{class:"profiles-list"},l.a.createElement("h1",null,"Profiles"),l.a.createElement("div",{class:"list-group list-group-flush"},l.a.createElement("div",{class:"list-group-item sticky-top list-group-item-light"},l.a.createElement("div",{class:"row"},l.a.createElement("div",{class:"col-sm-2 font-weight-bold"},"Patient Name"),l.a.createElement("div",{class:"col-sm-2"},"Began At"),l.a.createElement("div",{class:"col-sm-2"},"Oscillations"),l.a.createElement("div",{class:"col-sm-4 source-col"},"Source"),l.a.createElement("div",{class:"col-sm-2"},l.a.createElement("span",{className:"badge badge-pill badge-light"},"Test Status")))),l.a.createElement(u.Query,{query:T,pollInterval:5e3},function(e){var t=e.loading,a=e.error,n=e.data;return t?l.a.createElement("div",{class:"spinner-overlay"},l.a.createElement("div",{class:"spinner center"},l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}))):a?l.a.createElement("div",null,"`Error! $",a.message,"`"):n.allProfiles.map(function(e){var t=e.patient,a=e.status<2?"In Progress":"Completed",n=e.status<2?"badge-info":"badge-success",i=null==t?"Unnamed Patient":t.name,r=null==e.testBeganAt?"Waiting...":new Date(Date.parse(e.testBeganAt)).toLocaleString(),c=null==e.videoName?"Back-Facing Camera":e.videoName;null==e.rOscillation||g(e.rOscillation.maxDate),null==e.kOscillation||g(e.kOscillation.maxDate-e.rOscillation.maxDate),null==e.alphaAngle||e.alphaAngle.toFixed(3),null==e.maOscillation||e.maOscillation.coagulationIndex.toFixed(3),null==e.ly30Ratio||(100*e.ly30Ratio).toFixed(3);return l.a.createElement("a",{href:"/profile/"+e.id+(window.location.pathname.includes("api")?"/api":""),class:"list-group-item list-group-item-action"},l.a.createElement("div",{class:"row",key:e.id},l.a.createElement("div",{class:"col-sm-2"},l.a.createElement("strong",null,i)),l.a.createElement("div",{class:"col-sm-2"},r),l.a.createElement("div",{class:"col-sm-2"},e.oscillations.length," Oscillations"),l.a.createElement("div",{class:"col-sm-4 source-col"},c),l.a.createElement("div",{class:"col-sm-2"},l.a.createElement("span",{className:"badge badge-pill "+n},a))))})})))}}]),t}(n.Component),_=function(e){function t(){return Object(c.a)(this,t),Object(o.a)(this,Object(d.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Patients"),l.a.createElement("div",{class:"list-group list-group-flush"},l.a.createElement(u.Query,{query:w,pollInterval:5e3},function(e){var t=e.loading,a=e.error,n=e.data;return t?l.a.createElement("div",{class:"spinner-overlay"},l.a.createElement("div",{class:"spinner center"},l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}),l.a.createElement("div",{class:"spinner-blade"}))):a?l.a.createElement("div",null,"`Error! $",a.message,"`"):n.allPatients.map(function(e){new Date(Date.parse(e.createdAt)).toLocaleString();return l.a.createElement("a",{href:"/patient/"+e.id+(window.location.pathname.includes("api")?"/api":""),class:"list-group-item list-group-item-action"},e.name||e.hospitalID||"...",l.a.createElement("span",{class:"badge badge-pill badge-primary float-right"},e.profiles.length," Profiles"))})})))}}]),t}(n.Component),G=(a(61),a(63),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)));function H(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var Y=a(80),K=a(74),X=a(51),Z=new X.HttpLink({uri:"http://localhost:60000/simple/v1/cjo8zndw700060105tz4pbbc5"}),ee=new X.ApolloClient({link:Z,cache:new X.InMemoryCache});r.a.render(l.a.createElement(Y.a,null,l.a.createElement(u.ApolloProvider,{client:ee},l.a.createElement("div",{class:"App-body"},window.location.pathname.includes("api")?null:l.a.createElement(z,null),l.a.createElement("div",{class:"App-content"},l.a.createElement(K.a,{exact:!0,path:"/",component:V}),l.a.createElement(K.a,{path:"/profiles",component:V}),l.a.createElement(K.a,{path:"/patients",component:_}),l.a.createElement(K.a,{path:"/profile/:id",component:R}),l.a.createElement(K.a,{path:"/patient/:id",component:U}))))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("","/service-worker.js");G?(function(e,t){fetch(e).then(function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):H(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):H(t,e)})}}()}},[[37,2,1]]]);
//# sourceMappingURL=main.845b312a.chunk.js.map